<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="fr"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ChatMessage.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">RetrouvTout Backend</a> &gt; <a href="index.source.html" class="el_package">com.retrouvtout.websocket</a> &gt; <span class="el_source">ChatMessage.java</span></div><h1>ChatMessage.java</h1><pre class="source lang-java linenums">// ChatMessage.java
package com.retrouvtout.websocket;

import com.fasterxml.jackson.annotation.JsonProperty;

import java.time.LocalDateTime;

/**
 * Message de chat WebSocket
 */
public class ChatMessage {
    
    @JsonProperty(&quot;id&quot;)
    private String id;
    
    @JsonProperty(&quot;thread_id&quot;)
    private String threadId;
    
    @JsonProperty(&quot;sender_id&quot;)
    private String senderId;
    
    @JsonProperty(&quot;sender_name&quot;)
    private String senderName;
    
    @JsonProperty(&quot;content&quot;)
    private String content;
    
    @JsonProperty(&quot;message_type&quot;)
    private String messageType;
    
    @JsonProperty(&quot;timestamp&quot;)
    private LocalDateTime timestamp;
    
    @JsonProperty(&quot;is_system&quot;)
    private boolean isSystem;
    
    // Constructeurs
<span class="nc" id="L38">    public ChatMessage() {</span>
<span class="nc" id="L39">        this.timestamp = LocalDateTime.now();</span>
<span class="nc" id="L40">    }</span>
    
    public ChatMessage(String threadId, String senderId, String senderName, 
                      String content, String messageType) {
<span class="nc" id="L44">        this();</span>
<span class="nc" id="L45">        this.threadId = threadId;</span>
<span class="nc" id="L46">        this.senderId = senderId;</span>
<span class="nc" id="L47">        this.senderName = senderName;</span>
<span class="nc" id="L48">        this.content = content;</span>
<span class="nc" id="L49">        this.messageType = messageType;</span>
<span class="nc" id="L50">        this.isSystem = false;</span>
<span class="nc" id="L51">    }</span>
    
    // Factory method pour les messages système
    public static ChatMessage systemMessage(String threadId, String content) {
<span class="nc" id="L55">        ChatMessage message = new ChatMessage();</span>
<span class="nc" id="L56">        message.threadId = threadId;</span>
<span class="nc" id="L57">        message.senderId = &quot;system&quot;;</span>
<span class="nc" id="L58">        message.senderName = &quot;Système&quot;;</span>
<span class="nc" id="L59">        message.content = content;</span>
<span class="nc" id="L60">        message.messageType = &quot;system&quot;;</span>
<span class="nc" id="L61">        message.isSystem = true;</span>
<span class="nc" id="L62">        return message;</span>
    }
    
    // Getters et setters
<span class="nc" id="L66">    public String getId() { return id; }</span>
<span class="nc" id="L67">    public void setId(String id) { this.id = id; }</span>
    
<span class="nc" id="L69">    public String getThreadId() { return threadId; }</span>
<span class="nc" id="L70">    public void setThreadId(String threadId) { this.threadId = threadId; }</span>
    
<span class="nc" id="L72">    public String getSenderId() { return senderId; }</span>
<span class="nc" id="L73">    public void setSenderId(String senderId) { this.senderId = senderId; }</span>
    
<span class="nc" id="L75">    public String getSenderName() { return senderName; }</span>
<span class="nc" id="L76">    public void setSenderName(String senderName) { this.senderName = senderName; }</span>
    
<span class="nc" id="L78">    public String getContent() { return content; }</span>
<span class="nc" id="L79">    public void setContent(String content) { this.content = content; }</span>
    
<span class="nc" id="L81">    public String getMessageType() { return messageType; }</span>
<span class="nc" id="L82">    public void setMessageType(String messageType) { this.messageType = messageType; }</span>
    
<span class="nc" id="L84">    public LocalDateTime getTimestamp() { return timestamp; }</span>
<span class="nc" id="L85">    public void setTimestamp(LocalDateTime timestamp) { this.timestamp = timestamp; }</span>
    
<span class="nc" id="L87">    public boolean isSystem() { return isSystem; }</span>
<span class="nc" id="L88">    public void setSystem(boolean system) { isSystem = system; }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>